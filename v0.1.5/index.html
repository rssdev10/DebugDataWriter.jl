<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DebugDataWriter · DebugDataWriter.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>DebugDataWriter.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>DebugDataWriter</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>DebugDataWriter</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DebugDataWriter</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="DebugDataWriter"><a class="docs-heading-anchor" href="#DebugDataWriter">DebugDataWriter</a><a id="DebugDataWriter-1"></a><a class="docs-heading-anchor-permalink" href="#DebugDataWriter" title="Permalink"></a></h1><p>Simple debug data formatter and writer. The package DebugDataWriter.jl provides writing of debug information into external files in a human readable format.</p><h3 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h3><pre><code class="language-julia hljs">    id = get_debug_id(&quot;Some query&quot;)

    @debug_output id &quot;some complex structure&quot; ones(2, 3)

    @debug_output id &quot;some structure as lambda&quot; begin
        zeros(5, 2) # here we can put some code for preparing data for output
    end


    matrix = ones(2, 3)
    @debug_output id &quot;text table&quot; ones(2, 3) :JSON
    @debug_output id &quot;text table&quot; ones(2, 3) :TXT
    @debug_output id &quot;HTML table&quot; ones(2, 3) :HTML
    @debug_output id &quot;HTML table from variable&quot; matrix :HTML
    @debug_output id title matrix :HTML  </code></pre><h3 id="Configuration"><a class="docs-heading-anchor" href="#Configuration">Configuration</a><a id="Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration" title="Permalink"></a></h3><p>There are two ways to configure the module. First case is to do it with configuration variable.</p><p>Enable saving dumps of data structures. If the output disabled (<code>false</code>), there is no overhead in a program execution</p><pre><code class="language-julia hljs">DebugDataWriter.config().enable_dump = true</code></pre><p>Enable adding trace info with the <code>@info</code> macro and output into stdout. Each record contains links to the source code and to the saved data file. </p><pre><code class="language-julia hljs">DebugDataWriter.config().enable_log = true</code></pre><p>In this case, the output will look like this. </p><pre><code class="language-txt hljs">┌ Info: #= /Users/.../DebugDataWriter/test/runtests.jl:48 =#
│   debug_id = &quot;20230330-084712-012_Another_query&quot;
│   title = &quot;text as a text&quot;
│   data = &quot;ones(2, 3)&quot;
└   details_fn = &quot;debug_out/20230330-084712-012_Another_query/text_as_a_text.txt&quot;</code></pre><p>If you are using VS Code, simply click on this link. VS Code will open the line of code where this message/data was generated.</p><p>Additionally, if you are using that option, just click on <code>debug_out/20230330-084712-012_Another_query/text_as_a_text.txt</code> to open that in an editor.</p><p>Date/time prefix for generated directories in an output path. There are two options: full ISO date/time format - <code>20230330-084712-012_Some_title</code> (default) or just HEX representation of time in seconds like <code>187310e4a8e_Another_title</code> when <code>path_format_fulltime</code> is <code>false</code>.</p><pre><code class="language-julia hljs">DebugDataWriter.config().path_format_fulltime = false
</code></pre><p>Alternative way to enable debug output is usage of the system environment variable <code>DEBUG_OUTPUT</code>.</p><pre><code class="language-bash hljs">export DEBUG_OUTPUT=&quot;log | dump&quot;</code></pre><p>Or be initialized directly in Julia, but BEFORE including the code where macos are used.</p><pre><code class="language-julia hljs">ENV[&quot;DEBUG_OUTPUT&quot;] = &quot;log | dump&quot;</code></pre><p>There string contains the same names of modes as in the previous case. It can be any combination of modes: &quot;log&quot;, &quot;dump | log&quot;, etc.</p><p>Example:</p><pre><code class="language-julia hljs">    # id = @ddw_get_id  # this call gives a default name
    id = @ddw_get_id &quot;test&quot; # id will have this prefix

    @ddw_out id &quot;some structure as lambda&quot; begin
        zeros(5, 2)
    end
    @ddw_out id &quot;text as a text&quot; &quot;ones(2, 3)&quot; :TXT</code></pre><p>The advantage of this approach is zero impact on the code if <code>DEBUG_OUTPUT</code> is not defined. However, the disadvantage of this approach is that debug output cannot be enabled within the program dynamically. If you want to enable or disable debug output, you must rerun the application with a different value of the <code>DEBUG_OUTPUT</code> variable.</p><h3 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.get_debug_id-Tuple{String}" href="#DebugDataWriter.get_debug_id-Tuple{String}"><code>DebugDataWriter.get_debug_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_debug_id(title)</code></pre><p>Generates <code>id</code> based on current date/time and the <code>title</code>. <code>id</code> is used as a name of further output sub-directory of <code>debug_out</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L78-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.get_debug_id-Tuple{}" href="#DebugDataWriter.get_debug_id-Tuple{}"><code>DebugDataWriter.get_debug_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_debug_id()</code></pre><p>Generates <code>id</code> based on current date/time only.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.is_debug_output_enabled-Tuple{}" href="#DebugDataWriter.is_debug_output_enabled-Tuple{}"><code>DebugDataWriter.is_debug_output_enabled</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Do nothing if <code>DEBUG_OUTPUT</code> environment variable is not defined Enables debug mode if <code>DEBUG_OUTPUT</code> contains <code>log</code> or <code>dump</code> </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L201-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.@ddw_get_id-Tuple{Any}" href="#DebugDataWriter.@ddw_get_id-Tuple{Any}"><code>DebugDataWriter.@ddw_get_id</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Get <code>debug_id</code>.  The <code>debug_id</code> is used to merge multiple outputs into a single directory with a name starting with <code>debug_id</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L216-L220">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.@ddw_out-NTuple{4, Any}" href="#DebugDataWriter.@ddw_out-NTuple{4, Any}"><code>DebugDataWriter.@ddw_out</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Do debug output <code>debug_id</code> - name of the directory for the <code>log</code> mode output <code>title</code> - name of the file inside the output directory <code>data_func</code> - source data function <code>fmt</code> - format of ouput. See <code>FORMAT_WRITERS</code> constant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L245-L251">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.@ddw_out-Tuple{Any, Any, Any}" href="#DebugDataWriter.@ddw_out-Tuple{Any, Any, Any}"><code>DebugDataWriter.@ddw_out</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Do debug output <code>debug_id</code> - name of the directory for the <code>log</code> mode output <code>title</code> - name of the file inside the output directory <code>data_func</code> - source data function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L231-L236">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.@debug_output-NTuple{4, Any}" href="#DebugDataWriter.@debug_output-NTuple{4, Any}"><code>DebugDataWriter.@debug_output</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@debug_output debug_id title data_or_func fmt</code></pre><p>Same as <a href="#DebugDataWriter.@debug_output-NTuple{4, Any}"><code>@debug_output</code></a> with <code>debug_id</code>, <code>title</code>, <code>data_or_func</code> arguments. Additional <code>fmt</code> argument specifies an output format. Default is JSON.  Implemented formats are JSON with JSON.jl, HTML and TXT with PrettyTables.jl, and SVG, XML as raw data output.</p><p>See details of the <code>FORMAT_WRITERS</code> dictionary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L180-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="DebugDataWriter.@debug_output-Tuple{Any, Any, Any}" href="#DebugDataWriter.@debug_output-Tuple{Any, Any, Any}"><code>DebugDataWriter.@debug_output</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@debug_output debug_id title data_or_func</code></pre><p><code>debug_id</code> in fact is a name of output sub-directory</p><p><code>title</code> is used as a name of the output file in that directory to distinguish output data. All non alpha-num symbols are translated into the <code>_</code> character.</p><p><code>data_or_func</code>. The data for debug output might be provided as a literal, a variable or a lambda function. The lambda-function will be activated if only <code>enable_dump</code> is true.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/rssdev10/DebugDataWriter.jl/blob/2ec29d370c6f8e3bb59bf606da1dc9967992a961/src/DebugDataWriter.jl#L150-L162">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 22 February 2024 22:50">Thursday 22 February 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
